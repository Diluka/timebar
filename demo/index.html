<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
	<head>
		<title>TODO supply a title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
		<link href="../src/css/jquery.timebar.css" rel="stylesheet" type="text/css"/>
		<script src="../src/js/jquery.timebar.js" type="text/javascript"></script>
		<style>
			.tb-small{
				height: 10px;
			}
		</style>
	</head>
	<body>
		<div>TODO write content</div>
		<div id="tb"></div>
		<div id="tb2" style="width: 20%"></div>
		<div id="tb3" class="tb-small"></div>
		<button id="btn">del</button>
		<script>
			$("#tb,#tb2").timebar({
				label: {
					left: true,
					right: true
				}
			});
			$("#tb3").timebar({
				min: "9:00",
				max: "10:00"
			});
			$("#tb3").timebar("addNode", {
				id: "n5",
				start: "9:30",
				end: "9:45",
				color: "black",
				displayColor: "white",
				display: "点击移除"
			});
			$("#tb3").timebar("bind", {
				id: "n5",
				trigger: "click",
				func: function () {
					$(this).remove();
					alert("node n5 removed");
				}
			});
			$("#tb2").timebar("addNode", {
				id: "n4",
				start: "8:50",
				end: "11:30",
				color: "#f0ad4e"
			});
			$("#tb").timebar("addNode", {
				id: "n1",
				color: "red",
				start: 10,
				end: 14
			});
			$("#tb").timebar("addNode", {
				id: "n2",
				start: 5,
				end: "9:30",
				hover: true
			});
			$("#tb").timebar("addNode", {
				id: "n6",
				start: 0,
				end: 5,
				color: "transparent"
			});
			$("#tb").timebar("bind", {
				id: "n6",
				trigger: "click",
				func: function () {
					alert("这是一个空白的时间条，看不见");
				}
			});
			$("#tb").timebar("addNode", {
				id: "n3",
				start: "10：30",
				end: "19:30",
				color: "#5cb85c",
				displayColor: "yellow"
			});
			$("#btn").click(function () {
				$("#tb").timebar("removeNode", "n1");
				var data = eval("(" + $("#tb .timebar-node:last").attr("timebar-node-data") + ")");
				data.display = "显示文本";
				$("#tb .timebar-node:last").attr("timebar-node-data", JSON.stringify(data));
				$("#tb").timebar("render");
			});
			$("#tb").timebar("bind", {
				id: "n2",
				trigger: "click",
				func: function () {
					alert("clicked");
					console.log(this);
				}
			});
//			$("#tb").timebar("bind", {
//				id: "n2",
//				trigger: "mouseenter",
//				func: function () {
//					alert("mouseenter");
//				}
//			});
		</script>
	</body>
</html>
